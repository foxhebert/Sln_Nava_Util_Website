@model IEnumerable<WebNavaUtil.wsNavautil.Guía>

@{
    ViewBag.Title = "ConsultarGuia";
}
@{
    int correlativo = 0;
}
<div class="row">
    <div class="col-12">
        <form class="card">
            <!-- <div class="card-header">
              <h3 class="card-title">Consultas de Pedido</h3>
            </div> -->
            <div class="card-body">
                <h3 class="card-title">Consulta de Guías</h3>
                <div class="row" id="div-filtros-pedido" style="display:none">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <label class="form-label">Estado</label>
                            <select name="" id="estado-guia" class="form-control custom-select">
                                <option value="">Seleccione...</option>
                                <option value="1">Pend. Factura</option>
                                <option value="2">Facturados</option>
                                <option value="3">Pend. devolución proveedor</option>
                                <option value="4">Todos</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <label class="form-label">Vendedor</label>
                            @Html.DropDownList("cboVendedor", (SelectList)ViewBag.VENDEDOR, "Seleccione....", new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <br />
                            <label class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" name="example-checkbox1" value="Anulados" id="chkAnnulled">
                                <span class="custom-control-label">Anulados</span>
                            </label>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <label class="form-label">Desde</label>
                            <input type="text" name="field-name" class="form-control" data-mask="00/00/0000" id="date_1"
                                   data-mask-clearifnotmatch="true" placeholder="DD/MM/YYYY" />
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <label class="form-label">Hasta</label>
                            <input type="text" name="field-name" class="form-control" data-mask="DD/MM/YYYY" id="date_2"
                                   data-mask-clearifnotmatch="true" placeholder="DD/MM/YYYY" />
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <label class="form-label">Nº de Guía</label>
                            <input type="text" name="field-name" class="form-control" placeholder="Nro Guía" id="noOrder" onkeypress="return autoComplete(event)" />
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="form-group">
                            <br />
                            <div class="btn-list">
                                <button type="button" class="btn btn-outline-primary" id="mas-menos-filtros" data-active="mas">
                                    <i class="fe fe-plus mr-2"></i>Más
                                    filtros
                                </button>
                                <a class="btn btn-icon btn-primary btn-danger" id="btn-search-guia" style="color:white">
                                    <i class="fe fe-search"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <h3 class="card-title">Listado de Guías</h3>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 text-right">
                    <a class="btn btn-icon btn-primary" id="btn-preguntar-impresion" style="color:white"><i class="fe fe-printer"></i></a>
                </div>
            </div>
            <div class="table-responsive" id="guia-cabecera-table">
                <table class="table card-table table-vcenter datatable-Guia">
                    <thead class="thead-light">
                        <tr>
                            <th>IdOrder</th>
                            <th>Nº Guía</th>
                            <th>Fecha</th>
                            <th>Cliente</th>
                            <th>Ruc Cliente</th>
                            <th>Dirección</th>
                            <th>Motivo</th>
                            <th>Cond. de Venta </th>
                            <th>M</th>
                            <th>Transportista</th>
                            <th>Vendedor</th>
                            <th>Total</th>
                            <th>Fac/Bol/Guía</th>
                            <th>Doc.Referencia</th>

                        </tr>

                    </thead>
                    <tbody>

                        @foreach (var item in Model)
                        {
                            <tr>
                                <td >
                                    @correlativo
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.nroGuia)
                                </td>
                                <td>
                                    @Html.ValueFor(modelItem => item.fecha, "{0:dd/MM/yyyy}")
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.rzCliente)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ruccli)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.dirent)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.motivo)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.condVenta)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.moneda)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.transp)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.vendedor)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.montoTotal)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.facBol)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.docRef)
                                </td>
                            </tr>
                            correlativo++;
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Detalle del Guías <label id="lbl-det-nroGuia"></label></h3>
            </div>
            <div class="table-responsive" id="detalle-guia-table">
                <table class="table card-table table-vcenter text-nowrap datatable-detalle-Guia">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Marca</th>
                            <th>Descripción</th>
                            <th>Cantidad</th>
                            <th>UM</th>
                            <th>Precio</th>
                            <th>Total</th>
                            <th>Dscto</th>
                            <!--  <th>Almacén</th>-->
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="idModalPregunta" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">Seleccione tipo de Impresión</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div class="form-group">
                    <div class="form-label">Tipo Impresión</div>
                    <div class="custom-controls-stacked">
                        <label class="custom-control custom-radio">
                            <input type="radio" class="custom-control-input" name="example-radios" value="Imprimir Ticket" id="rdb-print-ticket">
                            <div class="custom-control-label">Imprimir Ticket</div>
                        </label>
                        <label class="custom-control custom-radio">
                            <input type="radio" class="custom-control-input" name="example-radios" value="Imprimir Etiqueta" id="rdb-print-etiqueta">
                            <div class="custom-control-label">Imprimir Etiqueta</div>
                        </label>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="div-print-comentario" style="display:none">
                    <div class="form-group">
                        <label class="form-label">Ingrese Comentario</label>
                        <input type="text" class="form-control" name="" id="coment-print" placeholder="Ingrese comentario">
                    </div>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="div-print-cantidad" style="display:none">
                    <div class="form-group">
                        <label class="form-label">Ingrese Cantidad de bultos</label>
                        <input type="number" class="form-control" name="" id="canti-print" value="1">
                    </div>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <input type="text" id="nroGuia-print" class="form-control" hidden />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <input type="text" id="nom-cli-print" class="form-control" hidden />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <input type="text" id="ruccli-print" class="form-control" hidden />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <input type="text" id="direccion-print" class="form-control" hidden />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <input type="text" id="empresa-print" class="form-control" hidden />
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-gray" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-red" id="btn-print-guia">Aceptar</button>
            </div>
        </div>
    </div>
</div>

